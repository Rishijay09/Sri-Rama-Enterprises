try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9884968b-d550-407c-8f64-0059f1cb798d",e._sentryDebugIdIdentifier="sentry-dbid-9884968b-d550-407c-8f64-0059f1cb798d")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4670,5292],{8139:(e,t,i)=>{"use strict";i.d(t,{default:()=>s.a});var n=i(44760),s=i.n(n)},48601:(e,t,i)=>{"use strict";i.d(t,{PublicArtifactAppWrapper:()=>l});var n=i(54568),s=i(97449),r=i(7620),a=i(93901),o=i(96900);let l=e=>{var t;let{artifact:i,remixBaseUrl:l,artifactId:d,activitySessionId:c,shouldTakeSnapshot:u}=e,[f,h]=(0,r.useState)(!1),{data:b}=(0,a.m)({entityId:d,artifactEntityType:"published_artifact"}),p=(0,r.useMemo)(()=>(null==b?void 0:b.mcp_servers)||[],[b]),m={ArtifactMcpModal:o.I,hasArtifactToolConfig:!!(null==b||null==(t=b.mcp_servers)?void 0:t.length),onManageConnectors:()=>h(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.PublicArtifactContent,{artifact:i,remixBaseUrl:l,artifactId:d,activitySessionId:c,shouldTakeSnapshot:u,...m}),f&&p&&(0,n.jsx)(o.I,{isOpen:f,onClose:()=>h(!1),requestedServers:p,artifactContext:{uuid:d,type:"published_artifact"}})]})}},77720:(e,t,i)=>{Promise.resolve().then(i.bind(i,48601)),Promise.resolve().then(i.bind(i,34577)),Promise.resolve().then(i.bind(i,61529)),Promise.resolve().then(i.bind(i,87606)),Promise.resolve().then(i.bind(i,24199)),Promise.resolve().then(i.bind(i,99757)),Promise.resolve().then(i.bind(i,63339)),Promise.resolve().then(i.bind(i,16258)),Promise.resolve().then(i.bind(i,4049)),Promise.resolve().then(i.bind(i,84007)),Promise.resolve().then(i.bind(i,67933)),Promise.resolve().then(i.bind(i,3149)),Promise.resolve().then(i.bind(i,82613)),Promise.resolve().then(i.bind(i,38237)),Promise.resolve().then(i.bind(i,55474)),Promise.resolve().then(i.bind(i,27143)),Promise.resolve().then(i.bind(i,97449))},97449:(e,t,i)=>{"use strict";i.r(t),i.d(t,{PublicArtifactContent:()=>g});var n=i(54568),s=i(57931),r=i(27143),a=i(85330),o=i(1761),l=i(54890),d=i(7620),c=i(55474),u=i(21956),f=i(41417),h=i(37076),b=i(76761),p=i(62971);let m=e=>{let{isOpen:t,onClose:i,baseUrl:s,publishedArtifactUuid:r}=e,a=(0,u.Cu)();return(0,n.jsxs)(h.aF,{isOpen:t,onClose:i,children:[(0,n.jsx)(f.$,{variant:"ghost",size:"unset",className:"text-text-300 h-6 w-6 rounded-md active:scale-90 !absolute top-4 right-4",onClick:i,children:(0,n.jsx)(b.X,{size:16})}),(0,n.jsxs)("div",{className:"flex flex-col gap-6 mt-4",children:[(0,n.jsx)("p",{className:"text-lg font-medium",children:(0,n.jsx)(p.A,{defaultMessage:"You need a Claude account to use this artifact",id:"jzcrjmVTFk"})}),(0,n.jsx)("p",{children:(0,n.jsx)(p.A,{defaultMessage:"Log in to Claude to use or customize this artifact. No account? You can create one for free.",id:"2iPAwj1yCC"})}),(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)(f.$,{variant:"primary",onClick:()=>a(window.location.href),href:"".concat(s,"/login?returnTo=").concat(encodeURIComponent("/public/artifacts/".concat(r))),className:"flex-1",target:window===window.top?"_self":"_blank",children:(0,n.jsx)(p.A,{defaultMessage:"Log in",id:"odXlk858Gb"})})})]})]})},g=e=>{let{artifact:t,remixBaseUrl:i,artifactId:u,activitySessionId:f,shouldTakeSnapshot:h,ArtifactMcpModal:b,hasArtifactToolConfig:p,onManageConnectors:g}=e,v=t.type===l.vU.Text,[x,C]=(0,d.useState)(!1),{account:w}=(0,o.YL)(),{mutate:y}=(0,s.b5)(u,f),j=(0,d.useRef)(y);j.current=y;let P=(0,d.useRef)(null),[A,_]=(0,d.useState)(!1),[M,k]=(0,d.useState)(!1),{mutateAsync:I}=(0,s.AH)(),S=(0,a.f)({artifactContext:{uuid:u,type:"published_artifact"},onMissingOrganization:()=>{throw C(!0),Error("An error occurred")}}),N=(0,d.useMemo)(()=>({claudeComplete:S}),[S]);return(0,d.useEffect)(()=>{j.current({account_uuid:null==w?void 0:w.uuid})},[u,f,null==w?void 0:w.uuid]),(0,d.useEffect)(()=>{if(!A||!P.current||!w||M)return;let e=window.innerWidth,t=window.innerHeight;!h[e<768?"mobile":"desktop"]||e<320||t<480||e>2560||t>1600||(k(!0),(async()=>{try{var i;let n=await (null==(i=P.current)?void 0:i.getDOMSnapshot());n&&await I({domSnapshot:n,publishedArtifactUuid:u,viewportWidth:e,viewportHeight:t})}catch(e){}})())},[A,u,h,w,I,M]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ArtifactFrame,{artifact:t,publishedArtifactUuid:u,remixBaseUrl:i,hasArtifactToolConfig:p,onManageConnectors:g,children:(0,n.jsx)(r.k,{isOpen:!0,content:t.content,type:t.type,language:t.language,showRaw:v,isCurrentStreaming:!1,richSandboxCapabilities:N,artifactContext:{uuid:u,type:"published_artifact"},richSandboxRef:P,showLoginModal:()=>C(!0),onDOMContentLoaded:()=>{_(!0)},ArtifactMcpModal:b})}),(0,n.jsx)(m,{isOpen:x,onClose:()=>C(!1),baseUrl:i,publishedArtifactUuid:u})]})}}},e=>{e.O(0,[1658,3473,2971,7261,2846,5006,1036,1575,9474,125,7773,4974,7463,8571,1404,1841,6631,2814,3103,3970,8864,5355,7519,3529,497,887,2538,5027,9367,5942,1761,8518,2993,9639,4690,7187,1178,98,2947,1336,7143,7456,9583,5313,587,4490,7358],()=>e(e.s=77720)),_N_E=e.O()}]);